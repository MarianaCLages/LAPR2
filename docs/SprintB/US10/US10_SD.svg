<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="867.6px" preserveAspectRatio="none" style="width:1307px;height:867px;" version="1.1" viewBox="0 0 1307 867" width="1307.7px" zoomAndPan="magnify"><defs><filter height="300%" id="f12y0czcn20yub" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.8"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.6" dy="3.6" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="693.2602" style="stroke:#A80036;stroke-width:0.9;" width="9" x="40.05" y="89.6484"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="109.7648"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="163.2656" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="164.3977"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="232.5305" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="354.9797"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="159.982" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="614.8266"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="54.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="508.05" y="191.7141"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="287.1633" style="stroke:#A80036;stroke-width:0.9;" width="9" x="508.05" y="382.2961"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="81.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="697.05" y="219.0305"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="697.05" y="409.6125"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="463.9289"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="533.1938"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="105.3492" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="669.4594"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1034.55" y="273.3469"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="44.1" x2="44.1" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="351.9" x2="351.9" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="512.1" x2="512.1" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="701.55" x2="701.55" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="871.65" x2="871.65" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1039.05" x2="1039.05" y1="80.6484" y2="791.0086"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:5.0,5.0;" x1="1248.75" x2="1248.75" y1="501.1031" y2="791.0086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="74.7" x="4.5" y="77.8799">Administrator</text><ellipse cx="44.55" cy="13.5" fill="#FEFECE" filter="url(#f12y0czcn20yub)" rx="7.2" ry="7.2" style="stroke:#A80036;stroke-width:1.8;"/><path d="M44.55,20.7 L44.55,45 M32.85,27.9 L56.25,27.9 M44.55,45 L32.85,58.5 M44.55,45 L56.25,58.5 " fill="none" filter="url(#f12y0czcn20yub)" style="stroke:#A80036;stroke-width:1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="74.7" x="4.5" y="803.1885">Administrator</text><ellipse cx="44.55" cy="814.957" fill="#FEFECE" filter="url(#f12y0czcn20yub)" rx="7.2" ry="7.2" style="stroke:#A80036;stroke-width:1.8;"/><path d="M44.55,822.157 L44.55,846.457 M32.85,829.357 L56.25,829.357 M44.55,846.457 L32.85,859.957 M44.55,846.457 L56.25,859.957 " fill="none" filter="url(#f12y0czcn20yub)" style="stroke:#A80036;stroke-width:1.8;"/><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="125.1" x="288" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="112.5" x="294.3" y="67.0799">:CreateParameterUI</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="125.1" x="288" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="112.5" x="294.3" y="809.4885">:CreateParameterUI</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="170.1" x="425.7" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="157.5" x="432" y="67.0799">:CreateParameterController</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="170.1" x="425.7" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="157.5" x="432" y="809.4885">:CreateParameterController</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="70.2" x="664.65" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="57.6" x="670.95" y="67.0799">:Company</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="70.2" x="664.65" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="57.6" x="670.95" y="809.4885">:Company</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="151.2" x="794.25" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="138.6" x="800.55" y="67.0799">pStore : ParameterStore</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="151.2" x="794.25" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="138.6" x="800.55" y="809.4885">pStore : ParameterStore</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="158.4" x="958.05" y="47.7"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="145.8" x="964.35" y="67.0799">:ParameterCategoryStore</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="158.4" x="958.05" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="145.8" x="964.35" y="809.4885">:ParameterCategoryStore</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="97.2" x="1198.35" y="790.1086"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="84.6" x="1204.65" y="809.4885">pa : Parameter</text><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="693.2602" style="stroke:#A80036;stroke-width:0.9;" width="9" x="40.05" y="89.6484"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="109.7648"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="163.2656" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="164.3977"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="232.5305" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="354.9797"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="159.982" style="stroke:#A80036;stroke-width:0.9;" width="9" x="347.85" y="614.8266"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="54.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="508.05" y="191.7141"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="287.1633" style="stroke:#A80036;stroke-width:0.9;" width="9" x="508.05" y="382.2961"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="81.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="697.05" y="219.0305"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="697.05" y="409.6125"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27.3164" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="463.9289"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="533.1938"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="105.3492" style="stroke:#A80036;stroke-width:0.9;" width="9" x="867.15" y="669.4594"/><rect fill="#FFFFFF" filter="url(#f12y0czcn20yub)" height="27" style="stroke:#A80036;stroke-width:0.9;" width="9" x="1034.55" y="273.3469"/><polygon fill="#A80036" points="337.05,106.1648,346.05,109.7648,337.05,113.3648,340.65,109.7648" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="49.05" x2="342.45" y1="109.7648" y2="109.7648"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="55.35" y="105.394">1</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="166.5" x="65.25" y="105.394">asks to create a new Parameter</text><polygon fill="#A80036" points="58.95,133.4813,49.95,137.0813,58.95,140.6813,55.35,137.0813" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="53.55" x2="351.45" y1="137.0813" y2="137.0813"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="64.35" y="132.7104">2</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="267.3" x="74.25" y="132.7104">requests ParameterData (code, description, NHSid)</text><polygon fill="#A80036" points="337.05,160.7977,346.05,164.3977,337.05,167.9977,340.65,164.3977" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="49.05" x2="342.45" y1="164.3977" y2="164.3977"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="55.35" y="160.0269">3</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="109.8" x="65.25" y="160.0269">types requested data</text><polygon fill="#A80036" points="497.25,188.1141,506.25,191.7141,497.25,195.3141,500.85,191.7141" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="356.85" x2="502.65" y1="191.7141" y2="191.7141"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="363.15" y="187.3433">4</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="89.1" x="373.05" y="187.3433">getCategoryList()</text><polygon fill="#A80036" points="686.25,215.4305,695.25,219.0305,686.25,222.6305,689.85,219.0305" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="517.05" x2="691.65" y1="219.0305" y2="219.0305"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="523.35" y="214.6597">5</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="138.6" x="533.25" y="214.6597">catList = getCategoryList()</text><polygon fill="#A80036" points="1023.75,269.7469,1032.75,273.3469,1023.75,276.9469,1027.35,273.3469" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="706.05" x2="1029.15" y1="273.3469" y2="273.3469"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="712.35" y="268.9761">6</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="138.6" x="722.25" y="268.9761">catList = getCategoryList()</text><polygon fill="#A80036" points="58.95,324.0633,49.95,327.6633,58.95,331.2633,55.35,327.6633" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="53.55" x2="351.45" y1="327.6633" y2="327.6633"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="64.35" y="323.2925">7</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="214.2" x="74.25" y="323.2925">Show Category list and ask to select one</text><polygon fill="#A80036" points="337.05,351.3797,346.05,354.9797,337.05,358.5797,340.65,354.9797" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="49.05" x2="342.45" y1="354.9797" y2="354.9797"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="55.35" y="350.6089">8</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="152.1" x="65.25" y="350.6089">selects a parameter category</text><polygon fill="#A80036" points="497.25,378.6961,506.25,382.2961,497.25,385.8961,500.85,382.2961" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="356.85" x2="502.65" y1="382.2961" y2="382.2961"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="6.3" x="363.15" y="377.9253">9</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="93.6" x="373.05" y="377.9253">createParameter()</text><polygon fill="#A80036" points="686.25,406.0125,695.25,409.6125,686.25,413.2125,689.85,409.6125" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="517.05" x2="691.65" y1="409.6125" y2="409.6125"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="523.35" y="405.2417">10</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="146.7" x="539.55" y="405.2417">pStore = getParameterStore</text><polygon fill="#A80036" points="856.35,460.3289,865.35,463.9289,856.35,467.5289,859.95,463.9289" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="517.05" x2="861.75" y1="463.9289" y2="463.9289"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="523.35" y="459.5581">11</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="316.8" x="539.55" y="459.5581">pa = createParameter(code,shortName,description,Category)</text><polygon fill="#A80036" points="1187.55,487.6453,1196.55,491.2453,1187.55,494.8453,1191.15,491.2453" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="871.65" x2="1192.95" y1="491.2453" y2="491.2453"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="877.95" y="486.8745">12</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="284.4" x="894.15" y="486.8745">pa = Parameter(code,shortName,description,Category)</text><rect fill="#FEFECE" filter="url(#f12y0czcn20yub)" height="28.4484" style="stroke:#A80036;stroke-width:1.35;" width="97.2" x="1198.35" y="471.1289"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacing" textLength="84.6" x="1204.65" y="490.5088">pa : Parameter</text><polygon fill="#A80036" points="856.35,529.5938,865.35,533.1938,856.35,536.7938,859.95,533.1938" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="517.05" x2="861.75" y1="533.1938" y2="533.1938"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="523.35" y="528.8229">13</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="112.5" x="539.55" y="528.8229">validateParameter(pa)</text><polygon fill="#A80036" points="58.95,583.9102,49.95,587.5102,58.95,591.1102,55.35,587.5102" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="53.55" x2="351.45" y1="587.5102" y2="587.5102"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="64.35" y="583.1394">14</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="212.4" x="80.55" y="583.1394">shows all data and requests confirmation</text><polygon fill="#A80036" points="337.05,611.2266,346.05,614.8266,337.05,618.4266,340.65,614.8266" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="49.05" x2="342.45" y1="614.8266" y2="614.8266"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="55.35" y="610.4558">15</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="90" x="71.55" y="610.4558">confirms the data</text><polygon fill="#A80036" points="497.25,638.543,506.25,642.143,497.25,645.743,500.85,642.143" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="356.85" x2="502.65" y1="642.143" y2="642.143"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="363.15" y="637.7722">16</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="97.2" x="379.35" y="637.7722">saveParameter(pa)</text><polygon fill="#A80036" points="856.35,665.8594,865.35,669.4594,856.35,673.0594,859.95,669.4594" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;" x1="512.55" x2="861.75" y1="669.4594" y2="669.4594"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="518.85" y="665.0886">17</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="97.2" x="535.05" y="665.0886">saveParameter(pa)</text><line style="stroke:#A80036;stroke-width:0.9;" x1="876.15" x2="913.95" y1="696.7758" y2="696.7758"/><line style="stroke:#A80036;stroke-width:0.9;" x1="913.95" x2="913.95" y1="696.7758" y2="708.4758"/><line style="stroke:#A80036;stroke-width:0.9;" x1="877.05" x2="913.95" y1="708.4758" y2="708.4758"/><polygon fill="#A80036" points="886.05,704.8758,877.05,708.4758,886.05,712.0758,882.45,708.4758" style="stroke:#A80036;stroke-width:0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="882.45" y="692.405">18</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="112.5" x="898.65" y="692.405">validateParameter(pa)</text><line style="stroke:#A80036;stroke-width:0.9;" x1="876.15" x2="913.95" y1="735.7922" y2="735.7922"/><line style="stroke:#A80036;stroke-width:0.9;" x1="913.95" x2="913.95" y1="735.7922" y2="747.4922"/><line style="stroke:#A80036;stroke-width:0.9;" x1="877.05" x2="913.95" y1="747.4922" y2="747.4922"/><polygon fill="#A80036" points="886.05,743.8922,877.05,747.4922,886.05,751.0922,882.45,747.4922" style="stroke:#A80036;stroke-width:0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="882.45" y="731.4214">19</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="97.2" x="898.65" y="731.4214">saveParameter(pa)</text><polygon fill="#A80036" points="58.95,771.2086,49.95,774.8086,58.95,778.4086,55.35,774.8086" style="stroke:#A80036;stroke-width:0.9;"/><line style="stroke:#A80036;stroke-width:0.9;stroke-dasharray:2.0,2.0;" x1="53.55" x2="351.45" y1="774.8086" y2="774.8086"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacing" textLength="12.6" x="64.35" y="770.4378">20</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacing" textLength="136.8" x="80.55" y="770.4378">Informs operation success</text><!--MD5=[983acf52cf5fe3a9dda17b20aca97944]
@startuml
autonumber
'hide footbox
actor "Administrator" as Administrator

participant ":CreateParameterUI" as UI
participant ":CreateParameterController" as CTRL
' participant ":AuthFacade" as Auth
' participant ":UserSession" as User
participant ":Company" as COMPANY
participant ":Company" as COMPANY
participant "pStore : ParameterStore" as PARAMETERSTORE
participant ":ParameterCategoryStore" as CATEGORYSTORE
participant "pa : Parameter" as PARAMETER


activate Administrator
Administrator -> UI: asks to create a new Parameter
activate UI

/' - - - - - - - - Login - - - - - - - -

UI -> CTRL : doLogin(email,password)
activate CTRL
CTRL -> Auth: doLogin(email,password)
activate Auth
CTRL -> Auth: session = getCurrentSession()
deactivate Auth
CTRL -> User: session isLoggedInWithRole()
activate User
deactivate User
deactivate CTRL
'/


UI - -> Administrator :requests ParameterData (code, description, NHSid)
deactivate UI


Administrator -> UI : types requested data
activate UI



UI -> CTRL : getCategoryList()
activate CTRL


CTRL -> COMPANY : catList = getCategoryList()
activate COMPANY
deactivate CTRL

COMPANY -> CATEGORYSTORE  : catList = getCategoryList()
activate CATEGORYSTORE
deactivate COMPANY
deactivate CATEGORYSTORE






UI - -> Administrator : Show Category list and ask to select one
deactivate UI





Administrator -> UI : selects a parameter category
activate UI




UI-> CTRL : createParameter()
activate CTRL

CTRL -> COMPANY : pStore = getParameterStore
activate COMPANY
deactivate COMPANY
CTRL -> PARAMETERSTORE : pa = createParameter(code,shortName,description,Category)

activate PARAMETERSTORE

PARAMETERSTORE -> PARAMETER ** : pa = Parameter(code,shortName,description,Category)


deactivate PARAMETERSTORE
CTRL -> PARAMETERSTORE : validateParameter(pa)
activate PARAMETERSTORE
deactivate PARAMETERSTORE

UI - -> Administrator : shows all data and requests confirmation
deactivate UI

Administrator -> UI : confirms the data
activate UI

UI-> CTRL : saveParameter(pa)

CTRL -> PARAMETERSTORE : saveParameter(pa)
deactivate CTRL
activate PARAMETERSTORE
PARAMETERSTORE -> PARAMETERSTORE : validateParameter(pa)
PARAMETERSTORE -> PARAMETERSTORE : saveParameter(pa)


UI - -> Administrator : Informs operation success
deactivate UI

deactivate PARAMETERSTORE







@enduml

@startuml
autonumber
actor "Administrator" as Administrator

participant ":CreateParameterUI" as UI
participant ":CreateParameterController" as CTRL
participant ":Company" as COMPANY
participant ":Company" as COMPANY
participant "pStore : ParameterStore" as PARAMETERSTORE
participant ":ParameterCategoryStore" as CATEGORYSTORE
participant "pa : Parameter" as PARAMETER


activate Administrator
Administrator -> UI: asks to create a new Parameter
activate UI



UI - -> Administrator :requests ParameterData (code, description, NHSid)
deactivate UI


Administrator -> UI : types requested data
activate UI



UI -> CTRL : getCategoryList()
activate CTRL


CTRL -> COMPANY : catList = getCategoryList()
activate COMPANY
deactivate CTRL

COMPANY -> CATEGORYSTORE  : catList = getCategoryList()
activate CATEGORYSTORE
deactivate COMPANY
deactivate CATEGORYSTORE






UI - -> Administrator : Show Category list and ask to select one
deactivate UI





Administrator -> UI : selects a parameter category
activate UI




UI-> CTRL : createParameter()
activate CTRL

CTRL -> COMPANY : pStore = getParameterStore
activate COMPANY
deactivate COMPANY
CTRL -> PARAMETERSTORE : pa = createParameter(code,shortName,description,Category)

activate PARAMETERSTORE

PARAMETERSTORE -> PARAMETER ** : pa = Parameter(code,shortName,description,Category)


deactivate PARAMETERSTORE
CTRL -> PARAMETERSTORE : validateParameter(pa)
activate PARAMETERSTORE
deactivate PARAMETERSTORE

UI - -> Administrator : shows all data and requests confirmation
deactivate UI

Administrator -> UI : confirms the data
activate UI

UI-> CTRL : saveParameter(pa)

CTRL -> PARAMETERSTORE : saveParameter(pa)
deactivate CTRL
activate PARAMETERSTORE
PARAMETERSTORE -> PARAMETERSTORE : validateParameter(pa)
PARAMETERSTORE -> PARAMETERSTORE : saveParameter(pa)


UI - -> Administrator : Informs operation success
deactivate UI

deactivate PARAMETERSTORE







@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>