@startuml

class RegisterClientUI{
}

class RegisterClientController{
    + getStore()
    + createClient(int cc, int nhs, string birthDate, string sex, int tinNumber, int phoneNumber, string email, string name)
    + saveClient()
}

class AuthFacade{
    + addUserWithRole(name, email, password, roleId)
}


class Company{
    + getStore()
}

class Client{
    + Client(int cc, int nhs, string birthDate, string sex, int tinNumber, int phoneNumber, string email, string name)
    + addUserWithRole(company)
    - getPassword()

}

class ClientStore{
    + createClient(int cc, int nhs, string birthDate, string sex, int tinNumber, int phoneNumber, string email, string name)
    + saveClient()
    + validateClient(c)
    + addUser(company)
}

class email{
+email(password, email)
}

Client --> email
RegisterClientUI ..> RegisterClientController
RegisterClientController ..> Company
RegisterClientController ..> ClientStore
Company --> ClientStore

ClientStore --> Client
Client ..> AuthFacade
@enduml